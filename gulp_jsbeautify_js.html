<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="__assets/main.css">
  <script src="__assets/libs.js"></script>
  <script src="__assets/main.js"></script>
  <link rel="shortcut icon" href="__assets/dockit.png">
  <title>Dockit</title>
</head>
<body>
<div id="container">
  <div class="docs docs-full transformer">
    <span class="ctrl ctrl-nav transformer" >☰</span>
    <span class="ctrl-code ctrl active">code</span>


<table class="dockit">



<tr id="gulp_jsbeautify_js-s1" class="section">
  <td class="comments">
    <a class="github" href="https://github.com/diffsky/dockit/blob/master/gulp/jsbeautify.js">github</a>
    <div class="con"></div>
  </td>
  <td class="code">
    <div class="con"><pre class="hifile"><code><span class="string">'use strict'</span>;

<span class="keyword">var</span> gulp = require(<span class="string">'gulp'</span>);
<span class="keyword">var</span> prettify = require(<span class="string">'gulp-jsbeautifier'</span>);
<span class="keyword">var</span> diff = require(<span class="string">'gulp-diff'</span>).diff;
<span class="keyword">var</span> diffReporter = require(<span class="string">'gulp-diff'</span>).reporter;

module.exports = <span class="keyword">function</span>(gulp, conf) {
  gulp.task(<span class="string">'js-beautify'</span>, <span class="keyword">function</span>() {
    <span class="keyword">var</span> task = gulp.src(conf.build.get(<span class="string">'/lint'</span>), {
        base: <span class="string">'./'</span>
      })
      .pipe(prettify({
        config: <span class="string">'.jsbeautifyrc'</span>,
        mode: <span class="string">'VERIFY_AND_WRITE'</span>
      }))
      .pipe(diff())
      .pipe(diffReporter());
    <span class="keyword">if</span> (conf.args.write) {</pre></code></div>
  </td>
</tr>

<tr id="gulp_jsbeautify_js-s2" class="section">
  <td class="comments">
    
    <div class="con"><p> if task is run with <code>--write</code> then overwrite source files</p>
</div>
  </td>
  <td class="code">
    <div class="con"><pre class="hifile"><code>      task.pipe(gulp.dest(<span class="string">'./'</span>));
    } <span class="keyword">else</span> {
      task.on(<span class="string">'data'</span>, <span class="keyword">function</span>(data) {
        <span class="keyword">if</span> (data.diff &amp;&amp; Object.keys(data.diff).length) {</pre></code></div>
  </td>
</tr>

<tr id="gulp_jsbeautify_js-s3" class="section">
  <td class="comments">
    
    <div class="con"><p> record that there have been errors</p>
</div>
  </td>
  <td class="code">
    <div class="con"><pre class="hifile"><code>          gulp.fail = <span class="literal">true</span>;
        }
      });
    }
    <span class="keyword">return</span> task;
  });
};
</pre></code></div>
  </td>
</tr>


</table>
<div class="nav transformer nav-hide">

  <span class="ctrl-pages ctrl ctrl-hide transformer">pages</span>
  <span class="ctrl-files ctrl ctrl-hide transformer">files</span>
  
  <a href="index.html?menu=1#readme_md-s1"><span class="ctrl-all ctrl ctrl-hide  transformer">∞</span></a>
  

  <ol id="files" class="menu hidden">
    
    <a class="nav-item nav-readme_md" href="readme_md.html?menu=1&amp;file=1">
      <li >
        <span class="dir">/</span>
        <span class="file">README.md</span>
      </li>
    </a>
    
    <a class="nav-item nav-_dockit_json5" href="_dockit_json5.html?menu=1&amp;file=1">
      <li >
        <span class="dir">/</span>
        <span class="file">.dockit.json5</span>
      </li>
    </a>
    
    <a class="nav-item nav-gulp_eslint_js" href="gulp_eslint_js.html?menu=1&amp;file=1">
      <li >
        <span class="dir">gulp/</span>
        <span class="file">eslint.js</span>
      </li>
    </a>
    
    <a class="nav-item nav-gulp_jsbeautify_js" href="gulp_jsbeautify_js.html?menu=1&amp;file=1">
      <li class="active">
        <span class="dir">gulp/</span>
        <span class="file">jsbeautify.js</span>
      </li>
    </a>
    
    <a class="nav-item nav-gulpfile_js" href="gulpfile_js.html?menu=1&amp;file=1">
      <li >
        <span class="dir">/</span>
        <span class="file">gulpfile.js</span>
      </li>
    </a>
    
    <a class="nav-item nav-index_js" href="index_js.html?menu=1&amp;file=1">
      <li >
        <span class="dir">/</span>
        <span class="file">index.js</span>
      </li>
    </a>
    
  </ol>

  
  <ol id="pages" class="menu">
    
    <a class="nav-item nav-readme_md-s1" href="index.html?menu=1#readme_md-s1">
      <li class="h1" >Dockit</li>
    </a>
    
    <a class="nav-item nav-readme_md-s2" href="index.html?menu=1#readme_md-s2">
      <li class="h2" >Installation</li>
    </a>
    
    <a class="nav-item nav-readme_md-s3" href="index.html?menu=1#readme_md-s3">
      <li class="h2" >Usage</li>
    </a>
    
    <a class="nav-item nav-_dockit_json5-s1" href="index.html?menu=1#_dockit_json5-s1">
      <li class="h2" >Configuration</li>
    </a>
    
    <a class="nav-item nav-index_js-s2" href="index.html?menu=1#index_js-s2">
      <li class="h2" >Dockit Lib</li>
    </a>
    
    <a class="nav-item nav-index_js-s4" href="index.html?menu=1#index_js-s4">
      <li class="h3" >Process files and generate documentation</li>
    </a>
    
    <a class="nav-item nav-index_js-s6" href="index.html?menu=1#index_js-s6">
      <li class="h3" >Write the documentation to disk</li>
    </a>
    
  </ol>
  

  <p id="generated">generated Tue Jun 10 2014 17:36:37 GMT-0700 (PDT)</p>
</div>



</body>
</html>

